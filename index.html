<html>
    <head>
        <meta http-equiv="content-type" content="text/html"; charset="utf-8"/>
    </head>

    <body>
    <canvas id="myCanvas" width="200" height="200" onclick="q()"></canvas>
    
    <!-- Include other scripts here, the order does matter -->
        
    <script src="Point.js"></script>    
    <script src="Boid.js"></script>
    <script src="FlockControler.js"></script>    
    
        
    <script type="text/javascript">
    
        var boids = new Array();
        for (i = 0; i < 12; i++)
            boids.push(new Boid());
        
        console.log("Boids in array: " + boids.length);
        
        var W, H;
        var dt = 12.1;
        var pause = 0;
        
        var canvas = document.getElementById("myCanvas");
        W=640;
        H=480;
        
        canvas.width = W;
        canvas.height = H;
        
        var ctx = canvas.getContext('2d');
        
        canvas.onmousedown = function(event)
        {
            pause = 1;
        }
        
        canvas.onmousemove = function(event)
        {
            if(pause)
            {
                MoveFlockToPointerPosition(event, canvas, boids);  
            }
        }
        
        canvas.onmouseup = function(event) 
        {
            pause = 0;
        }
        
        function init()
        {
            InitPositions(boids, W, H);
        }
        
        loop = function() //czy my tutaj deklarujemy zmienna pod ktora bedzie funkcja?
        {
            if (!pause)
            {
                UpdatePositions(boids, dt);
                //FlockCenterOfMass(boids, 0);
                //FlockRepulsion(boids, 0);
            }
            
            BoundFlock(boids, W, H);
            
            // clear canvas
            ctx.clearRect(0, 0, W, H);
            
            //rysowanie punktu
            ctx.lineWidth = 6;
            
            DrawFlock(ctx, boids);
            
            //call the redraw
            requestAnimationFrame(loop);
        }
        
        init();
        loop();
        
    </script>
    
    <style  type="text/css">
        canvas { border: 1px solid rgb(0,0,0); background: rgb(255, 255, 255); }
        body { background: rgb(255, 255, 255); }
    </style>
        <br>
    </body>
</html>
